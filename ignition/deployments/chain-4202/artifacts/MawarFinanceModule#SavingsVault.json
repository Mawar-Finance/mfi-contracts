{
  "_format": "hh3-artifact-1",
  "contractName": "SavingsVault",
  "sourceName": "contracts/savings/SavingsVault.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "contract IMFI",
          "name": "_mfi",
          "type": "address"
        },
        {
          "internalType": "contract ISavingsNFT",
          "name": "_nft",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_treasury",
          "type": "address"
        },
        {
          "internalType": "uint16",
          "name": "_feeBps",
          "type": "uint16"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "InvalidAmount",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NotMultipleOfRoseUnit",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NotTokenOwner",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ZeroAddress",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amountMFI",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "rosesAdded",
          "type": "uint256"
        }
      ],
      "name": "Deposited",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint8",
          "name": "roseCount",
          "type": "uint8"
        }
      ],
      "name": "NFTMinted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint8",
          "name": "oldCount",
          "type": "uint8"
        },
        {
          "indexed": false,
          "internalType": "uint8",
          "name": "newCount",
          "type": "uint8"
        }
      ],
      "name": "NFTUpgraded",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "principal",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "fee",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "payout",
          "type": "uint256"
        }
      ],
      "name": "Redeemed",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "ROSE_UNIT",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "activeBucketId",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "deposit",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "feeBps",
      "outputs": [
        {
          "internalType": "uint16",
          "name": "",
          "type": "uint16"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "mfi",
      "outputs": [
        {
          "internalType": "contract IMFI",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "nft",
      "outputs": [
        {
          "internalType": "contract ISavingsNFT",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        }
      ],
      "name": "previewRedeem",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "principal",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "fee",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "payout",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        }
      ],
      "name": "redeem",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "treasury",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x610100604052348015610010575f5ffd5b50604051610edf380380610edf83398101604081905261002f916100bd565b60015f556001600160a01b038416158061005057506001600160a01b038316155b8061006257506001600160a01b038216155b156100805760405163d92e233d60e01b815260040160405180910390fd5b6001600160a01b0393841660805291831660a05290911660e05261ffff1660c05261011f565b6001600160a01b03811681146100ba575f5ffd5b50565b5f5f5f5f608085870312156100d0575f5ffd5b84516100db816100a6565b60208601519094506100ec816100a6565b60408601519093506100fd816100a6565b606086015190925061ffff81168114610114575f5ffd5b939692955090935050565b60805160a05160c05160e051610d4161019e5f395f8181610199015261092701525f818160cb01526102a701525f8181610105015281816101f8015281816104cf015281816105ca015281816106a6015281816107c9015261088b01525f818161017201528181610368015281816109580152610a330152610d415ff3fe608060405234801561000f575f5ffd5b5060043610610090575f3560e01c8063516bc45011610063578063516bc4501461016d57806361d027b314610194578063950b6d3f146101bb578063b6b55f25146101ca578063db006a75146101df575f5ffd5b806314b2b7501461009457806324a9d853146100c657806347ccca02146101005780634cdad5061461013f575b5f5ffd5b6100b36100a2366004610bb1565b60016020525f908152604090205481565b6040519081526020015b60405180910390f35b6100ed7f000000000000000000000000000000000000000000000000000000000000000081565b60405161ffff90911681526020016100bd565b6101277f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b0390911681526020016100bd565b61015261014d366004610bd3565b6101f2565b604080519384526020840192909252908201526060016100bd565b6101277f000000000000000000000000000000000000000000000000000000000000000081565b6101277f000000000000000000000000000000000000000000000000000000000000000081565b6100b3678ac7230489e8000081565b6101dd6101d8366004610bd3565b6102ec565b005b6101dd6101ed366004610bd3565b6107a1565b5f5f5f5f7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03166311f847ce866040518263ffffffff1660e01b815260040161024491815260200190565b602060405180830381865afa15801561025f573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906102839190610bea565b905061029a678ac7230489e8000060ff8316610c1e565b93506127106102cd61ffff7f00000000000000000000000000000000000000000000000000000000000000001686610c1e565b6102d79190610c4f565b92506102e38385610c62565b93959294505050565b6102f4610b46565b805f036103145760405163162908e360e11b815260040160405180910390fd5b610326678ac7230489e8000082610c75565b1561034457604051636ec34ab760e11b815260040160405180910390fd5b6040516323b872dd60e01b8152336004820152306024820152604481018290525f907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906323b872dd906064016020604051808303815f875af11580156103b6573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906103da9190610c88565b90508061042e5760405162461bcd60e51b815260206004820152601760248201527f4d4649207472616e7366657246726f6d206661696c656400000000000000000060448201526064015b60405180910390fd5b5f610441678ac7230489e8000084610c4f565b604080518581526020810183905291925033917f73a19dd210f1a7f902193214c0ee91dd35ee5b4d920cba8d519eca65a7b488ca910160405180910390a2335f908152600160205260409020545b811561079257805f036105b2575f600a83116104ab57826104ae565b600a5b604051630348ab1560e51b815233600482015260ff821660248201529091507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063691562a0906044016020604051808303815f875af115801561051d573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906105419190610ca7565b335f81815260016020908152604091829020849055905160ff8516815292945084927f5716925f2a990bb51e5354134a606547c86dc787be1a2729eef575fd0c2bea1e910160405180910390a361059b60ff821684610c62565b92508060ff16600a036105ac575f91505b5061048f565b6040516308fc23e760e11b8152600481018290525f907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906311f847ce90602401602060405180830381865afa158015610617573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061063b9190610bea565b90508060ff16600a03610660575050335f90815260016020526040812081905561048f565b5f61066c82600a610cbe565b90505f8160ff16851161067f5784610684565b8160ff165b604051633eff2dc960e11b81526004810186905260ff821660248201529091507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690637dfe5b92906044015f604051808303815f87803b1580156106ef575f5ffd5b505af1158015610701573d5f5f3e3d5ffd5b508692503391507f20eeafca9c3b4156772eb370fcdaae29723950376a0e901efb937b9d2bad35f59050856107368582610cd7565b6040805160ff93841681529290911660208301520160405180910390a361076060ff821686610c62565b945061076c8184610cd7565b60ff16600a0361078a57335f90815260016020526040812081905593505b50505061048f565b50505061079e60015f55565b50565b6107a9610b46565b6040516331a9108f60e11b81526004810182905233906001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001690636352211e90602401602060405180830381865afa15801561080e573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906108329190610cf0565b6001600160a01b031614610859576040516359dc379f60e01b815260040160405180910390fd5b5f5f5f610865846101f2565b604051630852cd8d60e31b81526004810188905292955090935091506001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016906342966c68906024015f604051808303815f87803b1580156108cc575f5ffd5b505af11580156108de573d5f5f3e3d5ffd5b5050335f90815260016020526040902054869003915061090a905057335f908152600160205260408120555b8115610a155760405163a9059cbb60e01b81526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000081166004830152602482018490525f917f00000000000000000000000000000000000000000000000000000000000000009091169063a9059cbb906044016020604051808303815f875af11580156109a0573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906109c49190610c88565b905080610a135760405162461bcd60e51b815260206004820152601760248201527f4d464920666565207472616e73666572206661696c65640000000000000000006044820152606401610425565b505b60405163a9059cbb60e01b8152336004820152602481018290525f907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063a9059cbb906044016020604051808303815f875af1158015610a81573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610aa59190610c88565b905080610af45760405162461bcd60e51b815260206004820152601a60248201527f4d4649207061796f7574207472616e73666572206661696c65640000000000006044820152606401610425565b6040805185815260208101859052908101839052859033907f76cd0cedf979345ca241ce6de696a520a8efc860c6c10d9db2a7953307c237fc9060600160405180910390a35050505061079e60015f55565b60025f5403610b975760405162461bcd60e51b815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c006044820152606401610425565b60025f55565b6001600160a01b038116811461079e575f5ffd5b5f60208284031215610bc1575f5ffd5b8135610bcc81610b9d565b9392505050565b5f60208284031215610be3575f5ffd5b5035919050565b5f60208284031215610bfa575f5ffd5b815160ff81168114610bcc575f5ffd5b634e487b7160e01b5f52601160045260245ffd5b8082028115828204841417610c3557610c35610c0a565b92915050565b634e487b7160e01b5f52601260045260245ffd5b5f82610c5d57610c5d610c3b565b500490565b81810381811115610c3557610c35610c0a565b5f82610c8357610c83610c3b565b500690565b5f60208284031215610c98575f5ffd5b81518015158114610bcc575f5ffd5b5f60208284031215610cb7575f5ffd5b5051919050565b60ff8281168282160390811115610c3557610c35610c0a565b60ff8181168382160190811115610c3557610c35610c0a565b5f60208284031215610d00575f5ffd5b8151610bcc81610b9d56fea26469706673582212208a5c1b7c863526101785237f6aedf9ab4c5330c08a1a8ea2a6dca422f4b41b5664736f6c634300081e0033",
  "deployedBytecode": "0x608060405234801561000f575f5ffd5b5060043610610090575f3560e01c8063516bc45011610063578063516bc4501461016d57806361d027b314610194578063950b6d3f146101bb578063b6b55f25146101ca578063db006a75146101df575f5ffd5b806314b2b7501461009457806324a9d853146100c657806347ccca02146101005780634cdad5061461013f575b5f5ffd5b6100b36100a2366004610bb1565b60016020525f908152604090205481565b6040519081526020015b60405180910390f35b6100ed7f000000000000000000000000000000000000000000000000000000000000000081565b60405161ffff90911681526020016100bd565b6101277f000000000000000000000000000000000000000000000000000000000000000081565b6040516001600160a01b0390911681526020016100bd565b61015261014d366004610bd3565b6101f2565b604080519384526020840192909252908201526060016100bd565b6101277f000000000000000000000000000000000000000000000000000000000000000081565b6101277f000000000000000000000000000000000000000000000000000000000000000081565b6100b3678ac7230489e8000081565b6101dd6101d8366004610bd3565b6102ec565b005b6101dd6101ed366004610bd3565b6107a1565b5f5f5f5f7f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03166311f847ce866040518263ffffffff1660e01b815260040161024491815260200190565b602060405180830381865afa15801561025f573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906102839190610bea565b905061029a678ac7230489e8000060ff8316610c1e565b93506127106102cd61ffff7f00000000000000000000000000000000000000000000000000000000000000001686610c1e565b6102d79190610c4f565b92506102e38385610c62565b93959294505050565b6102f4610b46565b805f036103145760405163162908e360e11b815260040160405180910390fd5b610326678ac7230489e8000082610c75565b1561034457604051636ec34ab760e11b815260040160405180910390fd5b6040516323b872dd60e01b8152336004820152306024820152604481018290525f907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906323b872dd906064016020604051808303815f875af11580156103b6573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906103da9190610c88565b90508061042e5760405162461bcd60e51b815260206004820152601760248201527f4d4649207472616e7366657246726f6d206661696c656400000000000000000060448201526064015b60405180910390fd5b5f610441678ac7230489e8000084610c4f565b604080518581526020810183905291925033917f73a19dd210f1a7f902193214c0ee91dd35ee5b4d920cba8d519eca65a7b488ca910160405180910390a2335f908152600160205260409020545b811561079257805f036105b2575f600a83116104ab57826104ae565b600a5b604051630348ab1560e51b815233600482015260ff821660248201529091507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063691562a0906044016020604051808303815f875af115801561051d573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906105419190610ca7565b335f81815260016020908152604091829020849055905160ff8516815292945084927f5716925f2a990bb51e5354134a606547c86dc787be1a2729eef575fd0c2bea1e910160405180910390a361059b60ff821684610c62565b92508060ff16600a036105ac575f91505b5061048f565b6040516308fc23e760e11b8152600481018290525f907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316906311f847ce90602401602060405180830381865afa158015610617573d5f5f3e3d5ffd5b505050506040513d601f19601f8201168201806040525081019061063b9190610bea565b90508060ff16600a03610660575050335f90815260016020526040812081905561048f565b5f61066c82600a610cbe565b90505f8160ff16851161067f5784610684565b8160ff165b604051633eff2dc960e11b81526004810186905260ff821660248201529091507f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031690637dfe5b92906044015f604051808303815f87803b1580156106ef575f5ffd5b505af1158015610701573d5f5f3e3d5ffd5b508692503391507f20eeafca9c3b4156772eb370fcdaae29723950376a0e901efb937b9d2bad35f59050856107368582610cd7565b6040805160ff93841681529290911660208301520160405180910390a361076060ff821686610c62565b945061076c8184610cd7565b60ff16600a0361078a57335f90815260016020526040812081905593505b50505061048f565b50505061079e60015f55565b50565b6107a9610b46565b6040516331a9108f60e11b81526004810182905233906001600160a01b037f00000000000000000000000000000000000000000000000000000000000000001690636352211e90602401602060405180830381865afa15801561080e573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906108329190610cf0565b6001600160a01b031614610859576040516359dc379f60e01b815260040160405180910390fd5b5f5f5f610865846101f2565b604051630852cd8d60e31b81526004810188905292955090935091506001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016906342966c68906024015f604051808303815f87803b1580156108cc575f5ffd5b505af11580156108de573d5f5f3e3d5ffd5b5050335f90815260016020526040902054869003915061090a905057335f908152600160205260408120555b8115610a155760405163a9059cbb60e01b81526001600160a01b037f000000000000000000000000000000000000000000000000000000000000000081166004830152602482018490525f917f00000000000000000000000000000000000000000000000000000000000000009091169063a9059cbb906044016020604051808303815f875af11580156109a0573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906109c49190610c88565b905080610a135760405162461bcd60e51b815260206004820152601760248201527f4d464920666565207472616e73666572206661696c65640000000000000000006044820152606401610425565b505b60405163a9059cbb60e01b8152336004820152602481018290525f907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03169063a9059cbb906044016020604051808303815f875af1158015610a81573d5f5f3e3d5ffd5b505050506040513d601f19601f82011682018060405250810190610aa59190610c88565b905080610af45760405162461bcd60e51b815260206004820152601a60248201527f4d4649207061796f7574207472616e73666572206661696c65640000000000006044820152606401610425565b6040805185815260208101859052908101839052859033907f76cd0cedf979345ca241ce6de696a520a8efc860c6c10d9db2a7953307c237fc9060600160405180910390a35050505061079e60015f55565b60025f5403610b975760405162461bcd60e51b815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c006044820152606401610425565b60025f55565b6001600160a01b038116811461079e575f5ffd5b5f60208284031215610bc1575f5ffd5b8135610bcc81610b9d565b9392505050565b5f60208284031215610be3575f5ffd5b5035919050565b5f60208284031215610bfa575f5ffd5b815160ff81168114610bcc575f5ffd5b634e487b7160e01b5f52601160045260245ffd5b8082028115828204841417610c3557610c35610c0a565b92915050565b634e487b7160e01b5f52601260045260245ffd5b5f82610c5d57610c5d610c3b565b500490565b81810381811115610c3557610c35610c0a565b5f82610c8357610c83610c3b565b500690565b5f60208284031215610c98575f5ffd5b81518015158114610bcc575f5ffd5b5f60208284031215610cb7575f5ffd5b5051919050565b60ff8281168282160390811115610c3557610c35610c0a565b60ff8181168382160190811115610c3557610c35610c0a565b5f60208284031215610d00575f5ffd5b8151610bcc81610b9d56fea26469706673582212208a5c1b7c863526101785237f6aedf9ab4c5330c08a1a8ea2a6dca422f4b41b5664736f6c634300081e0033",
  "linkReferences": {},
  "deployedLinkReferences": {},
  "immutableReferences": {
    "173": [
      {
        "length": 32,
        "start": 370
      },
      {
        "length": 32,
        "start": 872
      },
      {
        "length": 32,
        "start": 2392
      },
      {
        "length": 32,
        "start": 2611
      }
    ],
    "176": [
      {
        "length": 32,
        "start": 261
      },
      {
        "length": 32,
        "start": 504
      },
      {
        "length": 32,
        "start": 1231
      },
      {
        "length": 32,
        "start": 1482
      },
      {
        "length": 32,
        "start": 1702
      },
      {
        "length": 32,
        "start": 1993
      },
      {
        "length": 32,
        "start": 2187
      }
    ],
    "179": [
      {
        "length": 32,
        "start": 203
      },
      {
        "length": 32,
        "start": 679
      }
    ],
    "182": [
      {
        "length": 32,
        "start": 409
      },
      {
        "length": 32,
        "start": 2343
      }
    ]
  },
  "inputSourceName": "project/contracts/savings/SavingsVault.sol",
  "buildInfoId": "solc-0_8_30-2aa31890c8d8592fac92a3211c3761c9eb454c02"
}